import { engine, Transform, MeshRenderer, MeshCollider, Vector3, Color4, Input, Quaternion, PointerHoverFeedback } from '@dcl/ecs';
import ReactEcs, { renderUi, UiEntity, YGAlign, YGDisplay, YGJustify } from '@dcl/react-ecs';
let counter = 0;
export const uiComponent = () => (ReactEcs.createElement(UiEntity, { uiTransform: {
        width: 700,
        height: 400,
        margin: { top: '35px', left: '500px' }
    }, uiBackground: { backgroundColor: Color4.create(0.5, 0.8, 0.1, 0.6) } },
    ReactEcs.createElement(UiEntity, { uiTransform: {
            width: '100%',
            height: '20%',
            justifyContent: YGJustify.YGJ_CENTER,
            alignItems: YGAlign.YGA_CENTER,
            display: YGDisplay.YGD_FLEX
        } },
        ReactEcs.createElement(UiEntity, { uiText: { value: 'SDK 7', fontSize: 80 }, uiBackground: { backgroundColor: Color4.fromHexString('#fbf0f0') } })),
    ReactEcs.createElement(UiEntity, { uiTransform: {
            width: '100%',
            height: '20%',
            justifyContent: YGJustify.YGJ_CENTER,
            alignItems: YGAlign.YGA_CENTER,
            display: YGDisplay.YGD_FLEX
        } },
        ReactEcs.createElement(UiEntity, { uiText: { value: `Counter: ${counter}`, fontSize: 60 }, uiBackground: { backgroundColor: Color4.fromHexString('#fbf0f0') } })),
    ReactEcs.createElement(UiEntity, { uiTransform: {
            width: '100%',
            height: '100px',
            justifyContent: YGJustify.YGJ_CENTER,
            alignItems: YGAlign.YGA_CENTER,
            display: YGDisplay.YGD_FLEX
        } },
        ReactEcs.createElement(UiEntity, { uiText: { value: `Player: ${getPlayerPosition()}`, fontSize: 40 }, uiBackground: { backgroundColor: Color4.fromHexString('#fbf0f0') } }))));
function getPlayerPosition() {
    const playerPosition = Transform.getOrNull(engine.PlayerEntity);
    if (!playerPosition)
        return '';
    const { x, y, z } = playerPosition.position;
    return `{x: ${x.toFixed(2)}, y: ${y.toFixed(2)}, z: ${z.toFixed(2)} }`;
}
renderUi(uiComponent);
function createCube(x, y, z, spawner = true) {
    const meshEntity = engine.addEntity();
    Transform.create(meshEntity, { position: { x, y, z } });
    MeshRenderer.create(meshEntity, { mesh: { $case: 'box', box: { uvs: [] } } });
    MeshCollider.create(meshEntity, { mesh: { $case: 'box', box: {} } });
    if (spawner) {
        PointerHoverFeedback.create(meshEntity, {
            pointerEvents: [
                {
                    eventType: 1,
                    eventInfo: {
                        button: 1,
                        hoverText: 'Press E to spawn',
                        maxDistance: 100,
                        showFeedback: true
                    }
                }
            ]
        });
    }
    return meshEntity;
}
function circularSystem(dt) {
    const entitiesWithMeshRenderer = engine.getEntitiesWith(MeshRenderer, Transform);
    for (const [entity, _meshRenderer, _transform] of entitiesWithMeshRenderer) {
        const mutableTransform = Transform.getMutable(entity);
        mutableTransform.rotation = Quaternion.multiply(mutableTransform.rotation, Quaternion.fromAngleAxis(dt * 10, Vector3.Up()));
    }
}
function spawnerSystem() {
    const clickedCubes = engine.getEntitiesWith(PointerHoverFeedback);
    for (const [entity] of clickedCubes) {
        if (Input.isTriggered(1, 1, entity)) {
            counter++;
        }
    }
}
createCube(8, 1, 8);
engine.addSystem(circularSystem);
engine.addSystem(spawnerSystem);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLE1BQU0sRUFDTixTQUFTLEVBQ1QsWUFBWSxFQUNaLFlBQVksRUFFWixPQUFPLEVBQ1AsTUFBTSxFQUNOLEtBQUssRUFDTCxVQUFVLEVBQ1Ysb0JBQW9CLEVBRXJCLE1BQU0sVUFBVSxDQUFBO0FBRWpCLE9BQU8sUUFBUSxFQUFFLEVBQ2YsUUFBUSxFQUNSLFFBQVEsRUFDUixPQUFPLEVBQ1AsU0FBUyxFQUNULFNBQVMsRUFDVixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQTtBQUVmLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUMvQix1QkFBQyxRQUFRLElBQ1AsV0FBVyxFQUFFO1FBQ1gsS0FBSyxFQUFFLEdBQUc7UUFDVixNQUFNLEVBQUUsR0FBRztRQUNYLE1BQU0sRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtLQUN2QyxFQUNELFlBQVksRUFBRSxFQUFFLGVBQWUsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0lBRXBFLHVCQUFDLFFBQVEsSUFDUCxXQUFXLEVBQUU7WUFDWCxLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSxLQUFLO1lBQ2IsY0FBYyxFQUFFLFNBQVMsQ0FBQyxVQUFVO1lBQ3BDLFVBQVUsRUFBRSxPQUFPLENBQUMsVUFBVTtZQUM5QixPQUFPLEVBQUUsU0FBUyxDQUFDLFFBQVE7U0FDNUI7UUFFRCx1QkFBQyxRQUFRLElBQ1AsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLEVBQ3hDLFlBQVksRUFBRSxFQUFFLGVBQWUsRUFBRSxNQUFN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QTtBQUNuQixDQUFDO0FBR0QsU0FBUyxjQUFjLENBQUMsRUFBVTtJQUNoQyxNQUFNLHdCQUF3QixHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQ3JELFlBQVksRUFDWixTQUFTLENBQ1YsQ0FBQTtJQUNELEtBQUssTUFBTSxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsVUFBVSxDQUFDLElBQUksd0JBQXdCLEVBQUU7UUFDMUUsTUFBTSxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBRXJELGdCQUFnQixDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUM3QyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQ3pCLFVBQVUsQ0FBQyxhQUFhLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FDaEQsQ0FBQTtLQUNGO0FBQ0gsQ0FBQztBQUVELFNBQVMsYUFBYTtJQUNwQixNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLG9CQUFvQixDQUFDLENBQUE7SUFDakUsS0FBSyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksWUFBWSxFQUFFO1FBQ25DLElBQ0UsS0FBSyxDQUFDLFdBQVcsT0FHZixNQUFNLENBQ1AsRUFDRDtZQUNBLE9BQU8sRUFBRSxDQUFBO1NBQ1Y7S0FDRjtBQUNILENBQUM7QUFHRCxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUNuQixNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ2hDLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBFbnRpdHksXG4gIGVuZ2luZSxcbiAgVHJhbnNmb3JtLFxuICBNZXNoUmVuZGVyZXIsXG4gIE1lc2hDb2xsaWRlcixcbiAgSW5wdXRBY3Rpb24sXG4gIFZlY3RvcjMsXG4gIENvbG9yNCxcbiAgSW5wdXQsXG4gIFF1YXRlcm5pb24sXG4gIFBvaW50ZXJIb3ZlckZlZWRiYWNrLFxuICBQb2ludGVyRXZlbnRUeXBlXG59IGZyb20gJ0BkY2wvZWNzJ1xuXG5pbXBvcnQgUmVhY3RFY3MsIHtcbiAgcmVuZGVyVWksXG4gIFVpRW50aXR5LFxuICBZR0FsaWduLFxuICBZR0Rpc3BsYXksXG4gIFlHSnVzdGlmeVxufSBmcm9tICdAZGNsL3JlYWN0LWVjcydcblxubGV0IGNvdW50ZXIgPSAwXG5cbmV4cG9ydCBjb25zdCB1aUNvbXBvbmVudCA9ICgpID0+IChcbiAgPFVpRW50aXR5XG4gICAgdWlUcmFuc2Zvcm09e3tcbiAgICAgIHdpZHRoOiA3MDAsXG4gICAgICBoZWlnaHQ6IDQwMCxcbiAgICAgIG1hcmdpbjogeyB0b3A6ICczNXB4JywgbGVmdDogJzUwMHB4JyB9XG4gICAgfX1cbiAgICB1aUJhY2tncm91bmQ9e3sgYmFja2dyb3VuZENvbG9yOiBDb2xvcjQuY3JlYXRlKDAuNSwgMC44LCAwLjEsIDAuNikgfX1cbiAgPlxuICAgIDxVaUVudGl0eVxuICAgICAgdWlUcmFuc2Zvcm09e3tcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMjAlJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfQ0VOVEVSLFxuICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9DRU5URVIsXG4gICAgICAgIGRpc3BsYXk6IFlHRGlzcGxheS5ZR0RfRkxFWFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8VWlFbnRpdHlcbiAgICAgICAgdWlUZXh0PXt7IHZhbHVlOiAnU0RLIDcnLCBmb250U2l6ZTogODAgfX1cbiAgICAgICAgdWlCYWNrZ3JvdW5kPXt7IGJhY2tncm91bmRDb2xvcjogQ29sb3I0LmZyb21IZXhTdHJpbmcoJyNmYmYwZjAnKSB9fVxuICAgICAgLz5cbiAgICA8L1VpRW50aXR5PlxuICAgIDxVaUVudGl0eVxuICAgICAgdWlUcmFuc2Zvcm09e3tcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMjAlJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfQ0VOVEVSLFxuICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9DRU5URVIsXG4gICAgICAgIGRpc3BsYXk6IFlHRGlzcGxheS5ZR0RfRkxFWFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8VWlFbnRpdHlcbiAgICAgICAgdWlUZXh0PXt7IHZhbHVlOiBgQ291bnRlcjogJHtjb3VudGVyfWAsIGZvbnRTaXplOiA2MCB9fVxuICAgICAgICB1aUJhY2tncm91bmQ9e3sgYmFja2dyb3VuZENvbG9yOiBDb2xvcjQuZnJvbUhleFN0cmluZygnI2ZiZjBmMCcpIH19XG4gICAgICAvPlxuICAgIDwvVWlFbnRpdHk+XG4gICAgPFVpRW50aXR5XG4gICAgICB1aVRyYW5zZm9ybT17e1xuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDBweCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0NFTlRFUixcbiAgICAgICAgYWxpZ25JdGVtczogWUdBbGlnbi5ZR0FfQ0VOVEVSLFxuICAgICAgICBkaXNwbGF5OiBZR0Rpc3BsYXkuWUdEX0ZMRVhcbiAgICAgIH19XG4gICAgPlxuICAgICAgPFVpRW50aXR5XG4gICAgICAgIHVpVGV4dD17eyB2YWx1ZTogYFBsYXllcjogJHtnZXRQbGF5ZXJQb3NpdGlvbigpfWAsIGZvbnRTaXplOiA0MCB9fVxuICAgICAgICB1aUJhY2tncm91bmQ9e3sgYmFja2dyb3VuZENvbG9yOiBDb2xvcjQuZnJvbUhleFN0cmluZygnI2ZiZjBmMCcpIH19XG4gICAgICAvPlxuICAgIDwvVWlFbnRpdHk+XG4gIDwvVWlFbnRpdHk+XG4pXG5cbmZ1bmN0aW9uIGdldFBsYXllclBvc2l0aW9uKCkge1xuICBjb25zdCBwbGF5ZXJQb3NpdGlvbiA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW5naW5lLlBsYXllckVudGl0eSlcbiAgaWYgKCFwbGF5ZXJQb3NpdGlvbikgcmV0dXJuICcnXG4gIGNvbnN0IHsgeCwgeSwgeiB9ID0gcGxheWVyUG9zaXRpb24ucG9zaXRpb25cbiAgcmV0dXJuIGB7eDogJHt4LnRvRml4ZWQoMil9LCB5OiAke3kudG9GaXhlZCgyKX0sIHo6ICR7ei50b0ZpeGVkKDIpfSB9YFxufVxuXG5yZW5kZXJVaSh1aUNvbXBvbmVudClcblxuLy8gQ3ViZSBmYWN0b3J5XG5mdW5jdGlvbiBjcmVhdGVDdWJlKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHNwYXduZXIgPSB0cnVlKTogRW50aXR5IHtcbiAgY29uc3QgbWVzaEVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICBUcmFuc2Zvcm0uY3JlYXRlKG1lc2hFbnRpdHksIHsgcG9zaXRpb246IHsgeCwgeSwgeiB9IH0pXG4gIE1lc2hSZW5kZXJlci5jcmVhdGUobWVzaEVudGl0eSwgeyBtZXNoOiB7ICRjYXNlOiAnYm94JywgYm94OiB7IHV2czogW10gfSB9IH0pXG4gIE1lc2hDb2xsaWRlci5jcmVhdGUobWVzaEVudGl0eSwgeyBtZXNoOiB7ICRjYXNlOiAnYm94JywgYm94OiB7fSB9IH0pXG4gIGlmIChzcGF3bmVyKSB7XG4gICAgUG9pbnRlckhvdmVyRmVlZGJhY2suY3JlYXRlKG1lc2hFbnRpdHksIHtcbiAgICAgIHBvaW50ZXJFdmVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50VHlwZTogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTixcbiAgICAgICAgICBldmVudEluZm86IHtcbiAgICAgICAgICAgIGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSxcbiAgICAgICAgICAgIGhvdmVyVGV4dDogJ1ByZXNzIEUgdG8gc3Bhd24nLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IDEwMCxcbiAgICAgICAgICAgIHNob3dGZWVkYmFjazogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIG1lc2hFbnRpdHlcbn1cblxuLy8gU3lzdGVtc1xuZnVuY3Rpb24gY2lyY3VsYXJTeXN0ZW0oZHQ6IG51bWJlcikge1xuICBjb25zdCBlbnRpdGllc1dpdGhNZXNoUmVuZGVyZXIgPSBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFxuICAgIE1lc2hSZW5kZXJlcixcbiAgICBUcmFuc2Zvcm1cbiAgKVxuICBmb3IgKGNvbnN0IFtlbnRpdHksIF9tZXNoUmVuZGVyZXIsIF90cmFuc2Zvcm1dIG9mIGVudGl0aWVzV2l0aE1lc2hSZW5kZXJlcikge1xuICAgIGNvbnN0IG11dGFibGVUcmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG5cbiAgICBtdXRhYmxlVHJhbnNmb3JtLnJvdGF0aW9uID0gUXVhdGVybmlvbi5tdWx0aXBseShcbiAgICAgIG11dGFibGVUcmFuc2Zvcm0ucm90YXRpb24sXG4gICAgICBRdWF0ZXJuaW9uLmZyb21BbmdsZUF4aXMoZHQgKiAxMCwgVmVjdG9yMy5VcCgpKVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBzcGF3bmVyU3lzdGVtKCkge1xuICBjb25zdCBjbGlja2VkQ3ViZXMgPSBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBvaW50ZXJIb3ZlckZlZWRiYWNrKVxuICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGNsaWNrZWRDdWJlcykge1xuICAgIGlmIChcbiAgICAgIElucHV0LmlzVHJpZ2dlcmVkKFxuICAgICAgICBJbnB1dEFjdGlvbi5JQV9QUklNQVJZLFxuICAgICAgICBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOLFxuICAgICAgICBlbnRpdHlcbiAgICAgIClcbiAgICApIHtcbiAgICAgIGNvdW50ZXIrK1xuICAgIH1cbiAgfVxufVxuXG4vLyBJbml0XG5jcmVhdGVDdWJlKDgsIDEsIDgpXG5lbmdpbmUuYWRkU3lzdGVtKGNpcmN1bGFyU3lzdGVtKVxuZW5naW5lLmFkZFN5c3RlbShzcGF3bmVyU3lzdGVtKVxuXG5leHBvcnQge31cbiJdfQ==